<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Generator - Professional Resume Builder</title>
    <link rel="stylesheet" href="./app.css">
    <link rel="stylesheet" href="./sources/cv.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- html2pdf.js for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Header / Navigation -->
        <header class="app-header">
            <div class="header-content">
                <div class="app-logo">
                    <div class="logo-icon">CV</div>
                    <h1 class="app-title">Generador de CV</h1>
                </div>
                <div class="header-actions">
                    <!-- Paper Size Toggle -->
                    <div class="paper-size-toggle">
                        <span class="toggle-label">Tamaño:</span>
                        <div class="toggle-switch">
                            <input type="radio" id="size-letter" name="paperSize" value="letter" checked
                                onchange="app.setPaperSize('letter')">
                            <label for="size-letter">Carta</label>
                            <input type="radio" id="size-a4" name="paperSize" value="a4"
                                onchange="app.setPaperSize('a4')">
                            <label for="size-a4">A4</label>
                            <div class="toggle-slider"></div>
                        </div>
                    </div>

                    <!-- CV Language Toggle -->
                    <div class="cv-language-toggle">
                        <span class="toggle-label">Idioma del CV:</span>
                        <div class="toggle-switch">
                            <input type="radio" id="lang-es" name="cvLanguage" value="es" checked
                                onchange="app.setCVLanguage('es')">
                            <label for="lang-es">Español</label>
                            <input type="radio" id="lang-en" name="cvLanguage" value="en"
                                onchange="app.setCVLanguage('en')">
                            <label for="lang-en">English</label>
                            <div class="toggle-slider"></div>
                        </div>
                    </div>

                    <button class="btn btn-secondary" onclick="app.exportJSON()">
                        <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                        </svg>
                        Exportar JSON
                    </button>
                    <button class="btn btn-secondary" onclick="app.importJSON()">
                        <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
                        </svg>
                        Importar JSON
                    </button>
                    <button class="btn btn-success" onclick="app.exportPDF()">
                        <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                        </svg>
                        Exportar PDF
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content: Split Panel -->
        <div class="main-content">
            <!-- Left Panel: Editor -->
            <div class="editor-panel">
                <form id="cv-form">
                    <!-- Personal Information -->
                    <section class="editor-section fade-in">
                        <h2 class="section-title">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            Información Personal
                        </h2>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Nombre(s)</label>
                                <input type="text" class="form-input" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Apellido(s)</label>
                                <input type="text" class="form-input" name="lastName" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Título Profesional</label>
                                <input type="text" class="form-input" name="title"
                                    placeholder="e.g., Software Engineer">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Subtítulo</label>
                                <input type="text" class="form-input" name="subtitle" placeholder="e.g., Senior Level">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ubicación</label>
                            <input type="text" class="form-input" name="location" placeholder="Ciudad, Estado/País">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Teléfono</label>
                                <input type="tel" class="form-input" name="phone">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Correo Electrónico</label>
                                <input type="email" class="form-input" name="email" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Perfil de LinkedIn</label>
                            <input type="text" class="form-input" name="linkedin" placeholder="usuario o URL completa">
                        </div>
                    </section>

                    <!-- Professional Experience -->
                    <section class="editor-section">
                        <h2 class="section-title">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            Experiencia Laboral
                        </h2>
                        <div id="experience-list"></div>
                        <button type="button" class="btn btn-add" onclick="app.addExperience()">
                            + Experiencia Laboral
                        </button>
                    </section>

                    <!-- Education -->
                    <section class="editor-section">
                        <h2 class="section-title">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                            </svg>
                            Educación
                        </h2>
                        <div id="education-list"></div>
                        <button type="button" class="btn btn-add" onclick="app.addEducation()">
                            + Educación
                        </button>
                    </section>

                    <!-- Skills -->
                    <section class="editor-section">
                        <h2 class="section-title">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                            </svg>
                            Habilidades
                        </h2>

                        <div class="form-group">
                            <label class="form-label">Habilidades blandas</label>
                            <p class="section-subtitle">Organiza tus habilidades blandas en categorías (ej., Personal,
                                Comunicación)</p>
                            <div id="soft-skills-list"></div>
                            <button type="button" class="btn btn-add" onclick="app.addSoftCategory()">+ Agregar
                                Categoría</button>
                        </div>

                        <div class="form-group" style="margin-top: var(--spacing-lg);">
                            <label class="form-label">Habilidades blandas</label>
                            <p class="section-subtitle">Organiza tus habilidades blandas en categorías (ej., Personal,
                                Comunicación)</p>
                            <div id="technical-skills-list"></div>
                            <button type="button" class="btn btn-add" onclick="app.addTechnicalCategory()">+ Agregar
                                Categoría</button>
                        </div>
                    </section>

                    <!-- Certifications -->
                    <section class="editor-section">
                        <h2 class="section-title">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Certificaciones
                        </h2>
                        <div id="certifications-list"></div>
                        <button type="button" class="btn btn-add" onclick="app.addCertification()">
                            + Agregar Certificación
                        </button>
                    </section>
                </form>
            </div>

            <!-- Right Panel: Live Preview -->
            <div class="preview-panel">
                <div id="cv-preview">
                    <!-- CV Preview will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden file input for JSON import -->
    <input type="file" id="json-import-input" accept=".json" style="display: none;">

    <script src="./app.js"></script>
</body>

</html>